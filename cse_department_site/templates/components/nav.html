{% load static %}

<nav style="background-color: black">
  <div class="flex justify-between items-center h-24 max-w-[1240px] mx-auto px-4 text-white">
    <a href="{% url 'home' %}">
      <img src="{% static 'images/logo-icfai final11.png' %}" alt="Logo" class="w-40 h-50">
    </a>
    <div class="menu-icon block md:hidden" x-data="{ open: false }">
      <svg
        class="w-6 h-6 cursor-pointer"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="none"
        stroke="#fff"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        @click="open = !open"
      >
        <path d="M3 12h18M3 6h18M3 18h18"></path>
      </svg>
    </div>
    <ul class="nav-links md:flex" :class="{ 'hidden': !open }" @click.away="open = false" x-data="{ open: false }">
      <li class="p-4">
        <a href="{% url 'home' %}">Home</a>
      </li>
      <li class="p-4">
        <a href="{% url 'home' %}#clubs">Clubs</a>
      </li>
      <li class="p-4">
        <a href="{% url 'gallery' %}">Gallery</a>
      </li>
      <li class="p-4 dropdown" x-data="{ openAcademics: false }">
        <button
          @click="openAcademics = !openAcademics"
          class="flex flex-row items-center w-full text-sm font-semibold text-left bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:focus:bg-gray-600 dark-mode:hover:bg-gray-600 md:w-auto md:inline md:mt-0 md:ml-4 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
        >
          <span>Academics</span>
          <svg
            fill="currentColor"
            viewBox="0 0 20 20"
            :class="{'rotate-180': openAcademics, 'rotate-0': !openAcademics}"
            class="inline w-4 h-4 mt-1 ml-1 transition-transform duration-200 transform md:-mt-1"
          >
            <path
              fill-rule="evenodd"
              d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
        <div
          x-show="openAcademics"
          @click.away="openAcademics = false"
          class="dropdown-content bg-white mt-2 px-4 py-2 rounded-lg shadow-lg"
        >
          <a
            class="block px-4 py-2 mt-2 text-sm font-semibold text-black hover:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
            href="https://admission.iutripura.in/"
            >Admission</a
          >
          <a
            class="block px-4 py-2 mt-2 text-sm font-semibold text-black hover:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
            href="{% url 'resources' %}"
            >Resources</a
          >
        </div>
      </li>
      <li class="p-4 dropdown" x-data="{ openCommunity: false }">
        <button
          @click="openCommunity = !openCommunity"
          class="flex flex-row items-center w-full text-sm font-semibold text-left bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:focus:bg-gray-600 dark-mode:hover:bg-gray-600 md:w-auto md:inline md:mt-0 md:ml-4 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
        >
          <span>Community</span>
          <svg
            fill="currentColor"
            viewBox="0 0 20 20"
            :class="{'rotate-180': openCommunity, 'rotate-0': !openCommunity}"
            class="inline w-4 h-4 mt-1 ml-1 transition-transform duration-200 transform md:-mt-1"
          >
            <path
              fill-rule="evenodd"
              d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
        <div
          x-show="openCommunity"
          @click.away="openCommunity = false"
          class="dropdown-content bg-white mt-2 px-4 py-2 rounded-lg shadow-lg"
        >
          <a
            class="block px-4 py-2 mt-2 text-sm font-semibold text-black hover:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
            href="{% url 'student' %}"
            >Students</a
          >
          <a
            class="block px-4 py-2 mt-2 text-sm font-semibold text-black hover:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
            href="{% url 'alumai' %}"
            >Alumni</a
          >
          <a
            class="block px-4 py-2 mt-2 text-sm font-semibold text-black hover:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
            href="{% url 'facalty' %}"
            >Faculty</a
          >
          <a
            class="block px-4 py-2 mt-2 text-sm font-semibold text-black hover:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline"
            href="{% url 'home' %}#event-notice"
            >Notice & Events</a
          >
        </div>
      </li>
      <li class="p-4">
        {% if request.user.is_authenticated %}
        <a href="{% url 'logout' %}">
          <button class="text-white bg-[#00df9a] py-2 px-4 rounded-md">Logout</button>
        </a>
        {% else %}
        <a href="{% url 'login' %}">
          <button class="text-white bg-[#00df9a] py-2 px-4 rounded-md">Login</button>
        </a>
        {% endif %}
      </li>
    </ul>
  </div>
</nav>

<style>
  .nav-links.md {
    display: flex;
    flex-direction: row;
  }

  .nav-links.md li {
    display: block;
    padding: 0.5rem 0;
  }

  .menu-icon {
    cursor: pointer;
  }

  .dropdown {
    position: relative;
  }

  .dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    z-index: 1;
    top: 100%;
    left: 0;
  }

  .dropdown:hover .dropdown-content {
    display: block;
  }

  @media (min-width: 768px) {
    .nav-links.md {
      display: flex;
    }

    .menu-icon {
      display: none;
    }
  }

  @media (max-width: 767px) {
    .nav-links.md {
      display: none;
    }

    .menu-icon {
      display: block;
    }

    .menu-icon svg {
      fill: white;
    }

    .nav-links.md.hidden {
      display: flex;
      flex-direction: column;
      position: absolute;
      top: 60px;
      right: 0;
      background-color: #fff;
      border-radius: 4px;
      box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    }
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/alpinejs@2.8.2/dist/alpine.js" defer></script>
<script>
  document.querySelector(".menu-icon").addEventListener("click", function () {
    document.querySelector(".nav-links").classList.toggle("hidden");
  });
</script>
