{% load static %}

<nav style="background-color: black;">
  <div class="flex justify-between items-center h-24 max-w-[1240px] mx-auto px-4 text-white">
    <a href="{% url 'home' %}"><h1 class="w-full text-3xl font-bold text-[#00df9a]">_DEPARTMENT OF CSE</h1></a>
    <ul class="hidden md:flex">
      <a href="{% url 'home' %}"><li class="p-4">Home</li></a>
      <li class="p-4">Clubs</li>
      <a href="{% url 'gallery' %}"><li class="p-4">Gallery</li></a>
      <li class="p-4">
        {% if request.user.is_authenticated %}
        <a href="{% url 'logout' %}"><button class="text-white bg-[#00df9a] py-2 px-4 rounded-md">Logout</button></a>
        {% else %}
        <a href="{% url 'register' %}"><button class="text-white bg-[#00df9a] py-2 px-4 rounded-md">Login</button></a>
        {% endif %}
      </li>
    </ul>
    <div class="block md:hidden">
      <span class="close-icon hidden">
        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </span>
      <span class="menu-icon">
        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 12h18M3 6h18M3 18h18"></path>
        </svg>
      </span>
    </div>
    <ul class="nav-menu hidden">
      <h1 class="w-full text-3xl font-bold text-[#00df9a] m-4">REACT.</h1>
      <li class="p-4 border-b border-gray-600">Home</li>
      <li class="p-4 border-b border-gray-600">Clubs</li>
      <a href="{% url 'gallery' %}"><li class="p-4 border-b border-gray-600">Gallery</li></a>
      <li class="p-4">
        {% if request.user.is_authenticated %}
        <a href="{% url 'logout' %}"><button class="text-white bg-[#00df9a] py-2 px-4 rounded-md">Logout</button></a>
        {% else %}
        <a href="{% url 'register' %}"><button class="text-white bg-[#00df9a] py-2 px-4 rounded-md">Login</button></a>
        {% endif %}
      </li>
    </ul>
  </div>
</nav>

<style>
  @media (max-width: 767px) {
    .nav-menu {
      position: fixed;
      left: 0;
      top: 0;
      width: 100%;
      height: 100vh;
      background-color: #000;
      color: #fff;
      padding: 2rem;
      z-index: 999;
      transform: translateX(-100%);
      transition: transform 0.3s ease-in-out;
    }

    .nav-menu.show {
      transform: translateX(0);
    }

    .close-icon,
    .menu-icon {
      display: block;
      cursor: pointer;
    }

    .menu-icon {
      margin-left: 1rem;
    }

    .close-icon svg {
      color: #fff;
    }
  }

  @media (min-width: 768px) {
    .nav-menu {
      position: static;
      width: auto;
      height: auto;
      border-right: none;
      background-color: transparent;
      transition: none;
      color: inherit;
      transform: translateX(0);
      padding: 0;
    }

    .close-icon {
      display: none;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const menuIcon = document.querySelector('.menu-icon');
    const closeIcon = document.querySelector('.close-icon');
    const navMenu = document.querySelector('.nav-menu');

    menuIcon.addEventListener('click', function() {
      navMenu.classList.toggle('show');
      menuIcon.style.display = 'none';
      closeIcon.style.display = 'block';
    });

    closeIcon.addEventListener('click', function() {
      navMenu.classList.toggle('show');
      closeIcon.style.display = 'none';
      menuIcon.style.display = 'block';
    });

    // Close the menu if a link is clicked
    const menuLinks = navMenu.querySelectorAll('a');
    menuLinks.forEach(function(link) {
      link.addEventListener('click', function() {
        navMenu.classList.remove('show');
        closeIcon.style.display = 'none';
        menuIcon.style.display = 'block';
      });
    });

    // Show the menu icon and hide the close icon by default
    menuIcon.style.display = 'block';
    closeIcon.style.display = 'none';
  });
</script>
